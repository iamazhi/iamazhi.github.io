(window.webpackJsonp=window.webpackJsonp||[]).push([["dx_uwU3"],{dx_NxuY:function(e,n,a){"use strict";a.d(n,"r",(function(){return h})),a.d(n,"T",(function(){return f})),a.d(n,"Q",(function(){return d}));var c,o=a("dx_lSNA"),i=a.n(o),r=a("dx_rQGm"),l=a("dx_DnxT"),u=a("dx_Bv2G"),s=a("dx_gUuO");!function(e){e.Issue="issue",e.Filter="filter"}(c||(c={}));var h=function(e){var n=e.pageId,a=e.blockId,c=e.visibleFieldIds;return i()({type:s.g.jira.FETCH_SYNC_JIRA_ISSUE,payload:e},r.U,{url:l.r.JIRA_ISSUE_SYNC,method:u.e.POST,data:{pageId:n,blockId:a,visibleFieldIds:c}})},f=function(){return i()({type:s.g.jira.FETCH_JIRA_AUTH_STATUS},r.U,{url:l.r.FETCH_JIRA_AUTH_STATUS,method:u.e.POST})},d=function(e){return{type:s.g.jira.FAKE_SYNC_JIRA_SUCCESS,payload:{id:e}}}},dx_PyaV:function(e,n,a){"use strict";(function(t){a.d(n,"z",(function(){return h}));var e=a("dx_lSNA"),c=a.n(e),o=a("dx_cDcd"),i=a.n(o),r=a("dx_NxuY"),l=a("dx_vfzM"),u=a("dx_g7gR"),s=a("dx_Ykhn");var h=c()({},s.e.Jira,{name:s.e.Jira,icon:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.a.createElement(e,{style:n})}(u.S),connectingText:t("doc.jira.connecting"),connectFailText:t("doc.jira.connect_fail"),connectSuccessFlag:s.W.HAS_CONNECTED,fetchAuthStatusAction:r.T,authStatusSelector:l.Q,logParams:{jira_type:""}})}).call(this,a("dx_E9Eu"))},dx_ReZS:function(e,n,a){"use strict";a.r(n),function(t){a.d(n,"AuthConnector",(function(){return S}));var e=a("dx_o0o1"),c=a.n(e),o=a("dx_yXPU"),i=a.n(o),r=a("dx_lSNA"),l=a.n(r),u=a("dx_lwsE"),s=a.n(u),h=a("dx_W8MJ"),f=a.n(h),d=a("dx_UtDZ"),_=a("dx_cDcd"),v=a.n(_),g=a("dx_faye"),b=a.n(g),m=a("dx_h74D"),p=a("dx_Ykhn"),C=a("dx_PyaV");function y(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);n&&(c=c.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,c)}return a}function x(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?y(Object(a),!0).forEach((function(n){l()(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var S=function(){function e(){var n=this;s()(this,e),this.container=void 0,this.authTab=null,this.timer=void 0,this.callback=void 0,this.authInfo=void 0,this.clear=function(){n.clearTimer(),n.authTab&&n.authTab.close(),n.authTab=null,n.callback=void 0},this.timerHandler=function(){n.authTab&&n.authTab.closed&&(n.clearTimer(),n.authTab=null,n.fetchAuthStatus().then((function(){var a=n.getAuthStatus();if(a&&n.authInfo){var c=a.authState===n.authInfo.connectSuccessFlag;c?(n.emitCallBack(p.U.CONNECT_SUCCESS),n.toastAuthSuccess(),n.destroy()):e.instance&&n.renderConnectFail(),n.log("client_finish_connect",{connect_status:c?"success":"fail"})}})).catch((function(){n.renderConnectFail(),n.toastFetchFail()})))},this.onReconnect=function(){n.renderConnecting(),n.connect()},this.onCancelConnect=function(){n.cancelConnect(),n.log("client_cancel_connect")},this.setAuthInfo=function(e){n.authInfo=C.z[e]},this.startConnect=function(e,a){n.authInfo=C.z[e],a&&(n.callback=a),n.renderConnecting(),n.connect()},this.cancelConnect=function(){n.emitCallBack(p.U.CONNECT_FAIL),n.authInfo&&d.store.dispatch(n.authInfo.fetchAuthStatusAction()),n.destroy()}}return f()(e,[{key:"destroy",value:function(){e.instance&&(e.instance.clear(),this.container&&(b.a.unmountComponentAtNode(this.container),document.body.removeChild(this.container),this.container=null))}},{key:"clearTimer",value:function(){this.timer&&clearInterval(this.timer),this.timer=null}},{key:"fetchAuthStatus",value:function(){return this.authInfo?d.store.dispatch(this.authInfo.fetchAuthStatusAction()):null}},{key:"getAuthStatus",value:function(){return this.authInfo?this.authInfo.authStatusSelector(d.store.getState()):null}},{key:"toast",value:function(e,n){d.Toast.show({key:"auth-connector",type:e,content:v.a.createElement("div",null,n)})}},{key:"toastFetchFail",value:function(){this.toast("error",t("doc.common.fetch_auth_fail"))}},{key:"toastAuthSuccess",value:function(){this.toast("success",t("doc.common.auth_connect_success"))}},{key:"log",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.authInfo){var a=this.authInfo,c=a.name,o=a.logParams;Object(d.collectEvent)(e,x(x({connect_obj:c},o),n))}}},{key:"connect",value:function(){var n=i()(c.a.mark((function n(){var a,o,i,r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=this.getAuthStatus()){n.next=3;break}return n.abrupt("return");case 3:if(o=a.authUrl){n.next=18;break}return n.prev=5,n.next=8,this.fetchAuthStatus();case 8:i=n.sent,r=i.payload,o=r.authUrl,n.next=18;break;case 13:return n.prev=13,n.t0=n.catch(5),this.renderConnectFail(),this.toastFetchFail(),n.abrupt("return");case 18:this.authTab=window.open(o),this.timer=setInterval(this.timerHandler,e.TIME_GAP);case 20:case"end":return n.stop()}}),n,this,[[5,13]])})));return function(){return n.apply(this,arguments)}}()},{key:"emitCallBack",value:function(e){this.callback&&this.callback(e)}},{key:"initContainer",value:function(){this.container||(this.container=document.createElement("div"),document.body.appendChild(this.container))}},{key:"renderConnecting",value:function(){this.renderDom(p.U.CONNECTING)}},{key:"renderConnectFail",value:function(){this.renderDom(p.U.CONNECT_FAIL)}},{key:"renderDom",value:function(e){if(this.authInfo){var n=this.authInfo,a={logoIcon:n.icon,connectFailText:n.connectFailText,connectingText:n.connectingText,connectStatus:e,onCancelConnect:this.onCancelConnect,onReconnect:this.onReconnect},c=v.a.createElement(d.AuthConnectDialog,a),o=v.a.createElement(m.Provider,{store:d.store},c);this.initContainer(),b.a.render(o,this.container)}}}],[{key:"getInstance",value:function(){return void 0===e.instance&&(e.instance=new e),e.instance}}]),e}();S.TIME_GAP=200,S.instance=void 0}.call(this,a("dx_E9Eu"))},dx_g7gR:function(e,n,a){"use strict";var c=a("dx_cDcd"),o=a.n(c);function i(){return i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c])}return e},i.apply(this,arguments)}var r=o.a.createElement("defs",null,o.a.createElement("linearGradient",{x1:"98.031%",y1:".161%",x2:"58.888%",y2:"40.766%",id:"icon_global_jira_big_svg__c"},o.a.createElement("stop",{stopColor:"#0052CC",offset:"18%"}),o.a.createElement("stop",{stopColor:"#2684FF",offset:"100%"})),o.a.createElement("linearGradient",{x1:"100.665%",y1:".455%",x2:"55.402%",y2:"44.727%",id:"icon_global_jira_big_svg__d"},o.a.createElement("stop",{stopColor:"#0052CC",offset:"18%"}),o.a.createElement("stop",{stopColor:"#2684FF",offset:"100%"})),o.a.createElement("path",{id:"icon_global_jira_big_svg__a",d:"M0 0h40v40H0z"})),l=o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("mask",{id:"icon_global_jira_big_svg__b",fill:"#fff"},o.a.createElement("use",{xlinkHref:"#icon_global_jira_big_svg__a"})),o.a.createElement("g",{mask:"url(#icon_global_jira_big_svg__b)",fillRule:"nonzero"},o.a.createElement("path",{d:"M34.062 4H18.955a6.82 6.82 0 006.82 6.82h2.782v2.687a6.82 6.82 0 006.816 6.815V5.311A1.31 1.31 0 0034.062 4z",fill:"#2684FF"}),o.a.createElement("path",{d:"M22.587 7.527H7.48a6.82 6.82 0 006.815 6.816h2.783v2.695a6.82 6.82 0 006.82 6.811V8.84a1.31 1.31 0 00-1.311-1.312z",fill:"url(#icon_global_jira_big_svg__c)",transform:"translate(4 4)"}),o.a.createElement("path",{d:"M15.107 15.05H0a6.82 6.82 0 006.82 6.82H9.61v2.687a6.82 6.82 0 006.807 6.816V16.36a1.31 1.31 0 00-1.31-1.31z",fill:"url(#icon_global_jira_big_svg__d)",transform:"translate(4 4)"})));n.S=function(e){return o.a.createElement("svg",i({width:40,height:40,viewBox:"0 0 40 40"},e),r,l)}}}]);
//# sourceMappingURL=//slardar.bytedance.net/api_v2/browser/jserr/get_sourcemap?bid=docs_pc&js_filename=dx_uwU3.66986cfc.chunk.js.map