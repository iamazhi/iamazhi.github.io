(window.webpackJsonp=window.webpackJsonp||[]).push([["dx_nUC"],{dx_Br4q:function(e,n,r){"use strict";r.r(n),r.d(n,"PresentationModeMask",(function(){return vr})),r.d(n,"PresentationModeEditor",(function(){return hr})),r.d(n,"PresentationModeTopbar",(function(){return gr.g}));var o,i,c,a,l=r("dx_TSYQ"),s=r.n(l),u=r("dx_cDcd"),d=r.n(u),f=r("dx_BaZy"),h=r.n(f),p=r("dx_h74D"),g=r("dx_hlsL"),b=r("dx_yzqx"),v=r("dx_l6la"),m=r("dx_E2oU"),y=r("dx_z8zm"),k=r("dx_Fimk"),x=r("dx_hIkB"),O=r("dx_hyAL"),S=r("dx_RIqP"),B=r.n(S),E=r("dx_J4zp"),w=r.n(E),_=r("dx_Vvd7"),I=r("dx_UtDZ"),M=r("dx_oncg"),j=r("dx_Yrx2"),P=r("dx_f650"),T=r("dx_k64k"),C=r("dx_L6Lu"),A=r("dx_Xdvu"),R=r("dx_G3GD"),D=r("dx_tWVV"),N=r("dx_o0o1"),z=r.n(N),L=r("dx_yXPU"),H=r.n(L),F=r("dx_yG8O"),V=r.n(F),G=r("dx_lwsE"),W=r.n(G),U=r("dx_W8MJ"),Y=r.n(U),K=r("dx_PJYZ"),Z=r.n(K),q=r("dx_W7W2"),J=r.n(q),Q=r("dx_a1gu"),X=r.n(Q),$=r("dx_Nsbk"),ee=r.n($),te=r("dx_Uyc2"),ne=r.n(te),re=(r("dx_A1AB"),r("dx_jBAU")),oe=r("dx_w8Jj"),ie=r("dx_uv4w"),ce=r("dx_TYsD");function ae(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=ee()(e);if(n){var i=ee()(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return X()(this,r)}}var le,se,ue,de,fe,he,pe,ge,be=Object(_.H)()((a=function(e){J()(r,e);var n=ae(r);function r(){var e;W()(this,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i)),V()(e,"api",c,Z()(e)),e.subs=[],e.onEditorInit=H()(z.a.mark((function n(){return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.initClientVars();case 2:case"end":return n.stop()}}),n)}))),e}return Y()(r,[{key:"init",value:function(){var e=this.api;this.subs.push(e.lifecycle.editorDidInit$.subscribe(this.onEditorInit))}},{key:"destroy",value:function(){this.subs.forEach((function(e){return e.unsubscribe()}))}},{key:"initClientVars",value:function(){var e=H()(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initFullClientVars();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initFullClientVars",value:function(){var e=H()(z.a.mark((function e(){var n,r,o,i,c,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.api,r=n.config.get("token"),o=n.getService(ce.q,{optional:!0}),(i=!o)||(window.DATA=null),e.next=7,re.S.fetchClientVars({token:r,canUseCache:i,extraParams:{}});case 7:return c=e.sent,a=c.data,e.next=11,Object(oe.i)();case 11:this.initCollab(a),n.getService(ie.v).applyClientVar(a,(function(e){n.modelService.setInitialData(e)}));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initCollab",value:function(e){var n;null===(n=this.api.getService(ce.q,{optional:!0}))||void 0===n||n.init({version:e.structure_version})}}]),r}(_.G),i=a,c=ne()(i.prototype,"api",[_.Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=i))||o,ve=r("dx_lSNA"),me=r.n(ve),ye=r("dx_xjz2"),ke=r("dx_zjmc"),xe=r("dx_B28d"),Oe=r("dx_lmzW"),Se=r("dx_n8nr"),Be=r("dx_Vsac"),Ee=r("dx_EcrF"),we=r("dx_x1xr"),_e=r("dx_L9Lc"),Ie=r("dx_FP3m"),Me=r("dx_x1WV"),je=r("dx_hSCS"),Pe=r("dx_qHDV"),Te=r("dx_ppc6"),Ce=r("dx_uOSm"),Ae=r("dx_e46e"),Re=r("dx_BLU6"),De=r("dx_D8nn"),Ne=r("dx_MP54"),ze=r("dx_e6eH"),Le=r("dx_qZ2L"),He=r("dx_hD2y"),Fe=r("dx_eyH3"),Ve=r("dx_g9Aj"),Ge=r("dx_vira"),We=r("dx_IdVu");function Ue(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,o)}return r}function Ye(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Ue(Object(r),!0).forEach((function(n){me()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var Ke,Ze,qe,Je,Qe=Object(ye.s)(A.a)((se=function(){function e(){W()(this,e),this.fold=void 0,this.viewport=void 0,this.autoExpandCellModule=void 0,this.commentModule=void 0,this.scrollingDetector=void 0,this.layout=void 0,this.clipboard=void 0,V()(this,"selectionAPI",ue,this),V()(this,"config",de,this),V()(this,"blockManager",fe,this),V()(this,"modelService",he,this),V()(this,"rect",pe,this),V()(this,"eventEmitter",ge,this),this.blockViewportAdapter=void 0,this.headingModule=void 0}return Y()(e,[{key:"init",value:function(e){var n=e.contentRef,r=this.config,o=this.blockManager,i=this.eventEmitter,c=r.get("scroller"),a=r.get("container");this.blockViewportAdapter=new Ae.S({blockManager:o}),this.fold=new Ne.S(o),this.selectionAPI.init({getContentContainer:function(){return a},disableBlockSelectionAutoFocus:b.S.isIPad,boundaryAreaContainer:r.get("boundary"),pasteBoundary:a,selectionAreaContainer:a,unSelectableType:[xe.B.GRID,xe.B.GRID_COLUMN,xe.B.OBJECTIVE,xe.B.KEY_RESULT,xe.B.PROGRESS]},this.fold),this.setupSelectionAPI(),this.viewport=new Ge.o({container:r.get("boundary"),selectionAPI:this.selectionAPI,fold:this.fold,rect:this.rect,blockManager:o,eventEmitter:i}),this.headingModule=new ze.a({blockManager:this.blockManager,eventEmitter:this.eventEmitter,modelService:this.modelService,env:Fe.l.HISTORY}),this.scrollingDetector=new Ve.Q(c),Object(We.m)(this,this.rect,this.fold,o,r.get("token"),r.get("commentable")||!1,De.S,i,this.viewport,r.get("scroller"));var l=this.toPlainObject();this.clipboard=new Re.S(Ye(Ye({},l),{},{pageToken:r.get("token")})),this.autoExpandCellModule=new Ce.S(this.blockManager),this.layout=new Le.S({catalogue:new He.S((function(){return null})),content:new He.S(n),comment:new He.S((function(){return document.querySelector(".presentation-mode #docCommentContainer")})),editor:new He.S((function(){return a}))})}},{key:"toPlainObject",value:function(){return{selectionAPI:this.selectionAPI,blockManager:this.blockManager,boundary:this.boundary,fold:this.fold,editable:this.editable,editPermission:this.editPermission,isHistory:this.config.get("isHistory"),isMobileEditMode:this.isMobileEditMode,copyable:this.copyable,commentModule:this.commentModule,exportable:this.exportable,scroller:this.scroller,rect:this.rect,viewport:this.viewport,layout:this.layout,eventEmitter:this.eventEmitter,container:this.container,tokenFromWiki:this.config.get("tokenFromWiki"),blockViewportAdapter:this.blockViewportAdapter,headingModule:this.headingModule}}},{key:"destroy",value:function(){this.viewport.destroy(),this.commentModule.destroy(),this.scrollingDetector.destroy(),this.layout.destroy(),this.blockViewportAdapter.destroy(),this.headingModule.destroy(),this.fold.destroy(),this.autoExpandCellModule.destroy(),this.clipboard.unmount()}},{key:"setupSelectionAPI",value:function(){this.selectionAPI.register(Pe.q.startTargetFilter,_e.R.selectionTargetFilter),this.selectionAPI.register(Pe.q.startTargetFilter,Ee.S.selectionTargetFilter),this.selectionAPI.register(Pe.q.startTargetFilter,Be.S.selectionTargetFilter),this.selectionAPI.register(Pe.q.startTargetFilter,Se.S.selectionTargetFilter),this.selectionAPI.register(Pe.q.startTargetFilter,Oe.S.selectionTargetFilter),this.selectionAPI.register(Pe.q.startTargetFilter,ke.D.selectionTargetFilter),this.selectionAPI.register(Pe.q.startTargetFilter,we.B.selectionTargetFilter)}},{key:"isMobileEditMode",get:function(){return!1}},{key:"boundary",get:function(){return this.config.get("boundary")}},{key:"scroller",get:function(){return this.config.get("scroller")}},{key:"container",get:function(){return this.config.get("container")}},{key:"editable",get:function(){return this.config.get("editable")}},{key:"editPermission",get:function(){return this.config.get("editPermission")}},{key:"copyable",get:function(){return this.config.get("copyable")}},{key:"exportable",get:function(){return this.config.get("exportable")}}]),e}(),ue=ne()(se.prototype,"selectionAPI",[Te.S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=ne()(se.prototype,"config",[_.j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=ne()(se.prototype,"blockManager",[Me.a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=ne()(se.prototype,"modelService",[_.VA],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=ne()(se.prototype,"rect",[Ie.z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=ne()(se.prototype,"eventEmitter",[je.h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=se))||le;function Xe(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=ee()(e);if(n){var i=ee()(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return X()(this,r)}}var $e=Object(_.H)({providers:[Qe]})((Je=function(e){J()(r,e);var n=Xe(r);function r(){var e;W()(this,r);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return e=n.call.apply(n,[this].concat(i)),V()(e,"context",qe,Z()(e)),e}return Y()(r,[{key:"init",value:function(){this.context.init(this.options)}},{key:"destroy",value:function(){this.context.destroy()}}]),r}(_.G),Ze=Je,qe=ne()(Ze.prototype,"context",[A.a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=Ze))||Ke,et=r("dx_MC5R");function tt(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=ee()(e);if(n){var i=ee()(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return X()(this,r)}}var nt=function(){function e(){W()(this,e)}return Y()(e,[{key:"onEnter",value:function(){var e=H()(z.a.mark((function e(n){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"onExit",value:function(){var e=H()(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getLastVisitedBlock",value:function(){return null}},{key:"shouldShowGoBack",value:function(){return!1}},{key:"goBack",value:function(){}},{key:"destroy",value:function(){}}]),e}(),rt=function(e){J()(r,e);var n=tt(r);function r(){return W()(this,r),n.apply(this,arguments)}return r}(nt),ot=r("dx_QWnh");function it(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=ee()(e);if(n){var i=ee()(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return X()(this,r)}}var ct,at=function(e){J()(r,e);var n=it(r);function r(e){var o;return W()(this,r),(o=n.call(this)).blockManager=e,o._shouldShowGoBack=!1,o}return Y()(r,[{key:"onEnter",value:function(){var e=H()(z.a.mark((function e(n){var r,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._shouldShowGoBack=this.checkShouldShowGoBack(n),n&&this._shouldShowGoBack&&this.blockManager.editorAPI.getService(A.a).viewport.scrollToRecord(n),e.next=4,null===(r=this.blockManager.recordManager.collabModule)||void 0===r||null===(o=r.sync)||void 0===o?void 0:o.switchCollabMode(!0);case 4:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"onExit",value:function(){var e=H()(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._shouldShowGoBack=!1;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getLastVisitedBlock",value:function(){return Object(ot.Q)(this.blockManager.editorAPI).record.id}},{key:"checkShouldShowGoBack",value:function(e){if(!e)return!1;var n=this.blockManager.getBlockIdsByRecordId(e),r=w()(n,1)[0];if(!r)return!1;var o=this.blockManager.model.getBlockModelByBlockId(r);return!(!o||o.isRoot)&&!this.blockManager.editorAPI.getService(A.a).viewport.isBlockInViewport(r)}},{key:"shouldShowGoBack",value:function(){return this._shouldShowGoBack}},{key:"goBack",value:function(){this.blockManager.config.get("scroller").scrollTop=0}},{key:"destroy",value:function(){}}]),r}(nt),lt=r("dx_h6a8"),st=r("dx_PQBD"),ut=r("dx_d2dg");!function(e){e.base="base",e.default="default",e.forcePagination="force_pagination",e.hidden="hidden",e.nested="nested",e.textual="textual"}(ct||(ct={}));var dt=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};W()(this,e),this.options=n,this.type=ct.base}return Y()(e,[{key:"getBlockSize",value:function(e){if(this.options.getBlockSize)return this.options.getBlockSize(e);var n=e.hostElement,r=n.offsetHeight||0,o=n.offsetWidth||0,i=Object(C.k)(n);return{width:o*i,height:r*i}}},{key:"fitBlock",value:function(e){var n,r=this.getBlockSize(e),o=r.width,i=r.height,c={};if(this.options.fitBlock){var a=this.options.fitBlock(e,{width:o,height:i});o=a.width,i=a.height,n=a.enterSlide}else if(i>this.slideContentSize.height){o=this.slideContentSize.width,i=this.slideContentSize.height;var l=Object(ot.W)(e).zoom;c={maxWidth:o/l,maxHeight:i/l,overflowY:"scroll",overflowX:"hidden"}}return{fitStyles:c,width:o,height:i,enterSlide:n}}},{key:"slideSize",get:function(){return Object(ot.x)()}},{key:"defaultHorizontalMargin",get:function(){return Object(ot.N)()}},{key:"defaultVerticalMargin",get:function(){return Object(ot.i)()}},{key:"slideContentSize",get:function(){return Object(ot.R)()}}]),e}(),ft=r("dx_FBWK"),ht=function(){function e(){var n=this;W()(this,e),this._blockInfos=[],this._contentHeight=0,this._originalContentHeight=0,this._beforeEnter=[],this._beforeDestroy=[],this._modifiable=!0,this._id=Object(ft.UUIDv4)(),this.beforeEnterSlide=H()(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n._beforeEnter.length){e.next=2;break}return e.abrupt("return");case 2:if(!(n._beforeDestroy.length>0)){e.next=5;break}return e.next=5,n.beforeDestroySlide();case 5:return e.next=7,Promise.all(n._beforeEnter.map((function(e){return e()})));case 7:n._beforeDestroy=e.sent,n._beforeEnter=[];case 9:case"end":return e.stop()}}),e)}))),this.beforeDestroySlide=H()(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n._beforeDestroy.map((function(e){return e()})));case 2:n._beforeDestroy=[];case 3:case"end":return e.stop()}}),e)}))),this.destroy=H()(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.beforeDestroySlide();case 2:n._blockInfos=[],n._contentHeight=0,n._originalContentHeight=0;case 5:case"end":return e.stop()}}),e)})))}return Y()(e,[{key:"containBlock",value:function(e){return this._blockInfos.some((function(n){return n.block.id===e}))}},{key:"unmodifiable",value:function(){this._modifiable=!1}},{key:"appendBlockInfo",value:function(e,n){if(!this.modifiable)throw new Error("[Error] Slide is unmodifiable");this._blockInfos.push(e),this._contentHeight+=e.height,this._originalContentHeight+=e.originHeight,n&&this._beforeEnter.push(n)}},{key:"alignContentToCenter",value:function(){if(this.modifiable&&!this.isEmpty){var e=Object(ot.x)().height-this.contentHeight,n=this._blockInfos[this._blockInfos.length-1],r=this._blockInfos[0],o=e/2,i=Object(ot.W)(r.block),c=Object(ot.W)(n.block);r.style.marginTop=o/i.zoom,n.style.marginBottom=o/c.zoom}}},{key:"id",get:function(){return this._id}},{key:"modifiable",get:function(){return this._modifiable}},{key:"contentHeight",get:function(){return this._contentHeight}},{key:"originalContentHeight",get:function(){return this._originalContentHeight}},{key:"isEmpty",get:function(){return 0===this._blockInfos.length}},{key:"blockInfos",get:function(){return this._blockInfos}}]),e}(),pt=function(){function e(){var n=this;W()(this,e),this._currentSlideIndex=0,this._slidesWithBlank=[],this._originScrollTop="inherit",this._scrollElement=null,this._lastScrollTop=0,this.destroy=H()(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n._scrollElement&&(n._scrollElement.style.top=n._originScrollTop),n._lastScrollTop=0,e.next=4,Promise.all(n._slidesWithBlank.map((function(e){return e.destroy()})));case 4:n._currentSlideIndex=0,n._slidesWithBlank=[];case 6:case"end":return e.stop()}}),e)})))}return Y()(e,[{key:"hasScrollElement",value:function(){return!!this._scrollElement}},{key:"setScrollElement",value:function(e){this._scrollElement=e,this._originScrollTop=this._scrollElement.style.top}},{key:"isBlankSlide",value:function(e){return 0===e.contentHeight}},{key:"appendSlide",value:function(e){this._slidesWithBlank.push(e)}},{key:"popSlide",value:function(){return this._slidesWithBlank.length>0?this._slidesWithBlank.pop():null}},{key:"forEach",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n&&this.slides.forEach(e),this._slidesWithBlank.forEach(e)}},{key:"calcScrollTopWithRealIndex",value:function(e){var n,r=Math.max(0,Math.min(e,this._slidesWithBlank.length-1));if(0===r)return this._lastScrollTop=0,0;var o=this._slidesWithBlank[r].blockInfos[0],i=o.block,c=o.style,a=parseInt((null===(n=c.marginTop)||void 0===n?void 0:n.toString())||"0"),l=i.hostElement.getBoundingClientRect().top,s=Object(C.k)(i.hostElement),u=Object(ot.W)(i).zoom,d=this._lastScrollTop+l*s-a*u;return this._lastScrollTop=d,d}},{key:"transformToRealIndex",value:function(e){for(var n=0,r=Math.max(0,Math.min(e,this._slidesWithBlank.length-1)),o=0;n<this._slidesWithBlank.length;n++)if(this.isBlankSlide(this._slidesWithBlank[n]))o++;else if(n-o===r)break;return n}},{key:"getSlide",value:function(e){var n=this.transformToRealIndex(e);return this._slidesWithBlank[n]}},{key:"gotoSlide",value:function(){var e=H()(z.a.mark((function e(n,r){var o,i,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=this.transformToRealIndex(n))!==this._currentSlideIndex||r){e.next=3;break}return e.abrupt("return");case 3:return i=this._slidesWithBlank[o],e.next=6,i.beforeEnterSlide();case 6:c=this.calcScrollTopWithRealIndex(o),this._scrollElement&&(this._scrollElement.style.top="-".concat(c,"px")),this._currentSlideIndex=o;case 9:case"end":return e.stop()}}),e,this)})));return function(n,r){return e.apply(this,arguments)}}()},{key:"findSlideIndexByBlockId",value:function(e){for(var n=this.slides.length-1;n>=0;n--)if(this.slides[n].containBlock(e))return n;return-1}},{key:"slides",get:function(){var e=this;return this._slidesWithBlank.filter((function(n){return!e.isBlankSlide(n)}))}},{key:"length",get:function(){return this.slides.length}},{key:"isEmpty",get:function(){return 0===this.length}},{key:"lastSlide",get:function(){return this._slidesWithBlank.length>0?this._slidesWithBlank[this._slidesWithBlank.length-1]:null}},{key:"isLastSlideModifiable",get:function(){return this._slidesWithBlank.length>0&&this._slidesWithBlank[this._slidesWithBlank.length-1].modifiable}}]),e}();function gt(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,o)}return r}function bt(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?gt(Object(r),!0).forEach((function(n){me()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function vt(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=ee()(e);if(n){var i=ee()(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return X()(this,r)}}var mt,yt,kt=function(e){J()(r,e);var n=vt(r);function r(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return W()(this,r),(e=n.call(this)).options=o,e.type=ct.default,e}return Y()(r,[{key:"insertToPage",value:function(e){var n=this.options.splitable,r=void 0===n||n,o=e.slides,i=e.block,c=e.needPagination,a=void 0!==c&&c,l=this.fitBlock(i),s=l.fitStyles,u=l.height,d=l.enterSlide,f=0,h=!a&&o.isLastSlideModifiable?o.popSlide():new ht;for(!r&&this.slideContentSize.height-h.contentHeight<u&&(o.appendSlide(h),h=new ht);u+f>1e-10;){var p=this.slideContentSize.height-h.contentHeight,g=u+f,b=Math.min(g,p),v=h.isEmpty&&0===f,m=1/Object(ot.W)(i).zoom;h.appendBlockInfo({block:i,height:b,originHeight:b,style:bt({marginTop:(v?this.defaultVerticalMargin:f)*m,marginLeft:this.defaultHorizontalMargin*m,marginRight:this.defaultHorizontalMargin*m},s)},d),o.appendSlide(h),f-=b,h=new ht}return o}}]),r}(dt);function xt(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,o)}return r}function Ot(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?xt(Object(r),!0).forEach((function(n){me()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function St(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=ee()(e);if(n){var i=ee()(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return X()(this,r)}}!function(e){e.TOP="top",e.BOTTOM="bottom",e.MIDDLE="middle"}(mt||(mt={})),function(e){e.LEFT="left",e.RIGHT="right",e.CENTER="center"}(yt||(yt={}));var Bt=function(e){J()(r,e);var n=St(r);function r(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return W()(this,r),(e=n.call(this)).options=o,e.type=ct.forcePagination,e}return Y()(r,[{key:"insertToPage",value:function(e){var n=e.slides,r=e.block,o=this.fitBlock(r),i=o.fitStyles,c=o.width,a=o.height,l=o.enterSlide,s=1/Object(ot.W)(r).zoom,u=r.model.parent&&!r.model.parent.isRoot&&Object(xe.q)().includes(r.model.parent.type),d=u?{width:this.slideContentSize.width,height:this.slideSize.height}:this.slideSize,f=this.options,h=f.vertical,p=void 0===h?mt.MIDDLE:h,g=f.horizontal,b=void 0===g?yt.LEFT:g,v=0,m=0;switch(p){case mt.BOTTOM:m=this.defaultVerticalMargin*s,v=(d.height-this.defaultVerticalMargin-a)*s;break;case mt.TOP:v=this.defaultVerticalMargin*s,m=(d.height-this.defaultVerticalMargin-a)*s;break;case mt.MIDDLE:m=v=(d.height-a)/2*s}var y=0,k=0;switch(b){case yt.LEFT:y=u?0:this.defaultHorizontalMargin*s,k=u?0:this.defaultHorizontalMargin*s;break;case yt.RIGHT:y=(d.width-c-this.defaultHorizontalMargin)*s,k=u?0:this.defaultHorizontalMargin*s;break;case yt.CENTER:y=(d.width-c)/2*s}var x=new ht;return x.appendBlockInfo({block:r,height:a,originHeight:this.getBlockSize(r).height,style:Ot({marginTop:v,marginLeft:y,marginBottom:m,marginRight:k},i)},l),x.unmodifiable(),n.appendSlide(x),n}}]),r}(dt);function Et(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=ee()(e);if(n){var i=ee()(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return X()(this,r)}}var wt=function(e){J()(r,e);var n=Et(r);function r(e){var o;return W()(this,r),(o=n.call(this)).options=e,o.type=ct.nested,o}return Y()(r,[{key:"getChildBlockInfo",value:function(e){var n=this,r=e.blockManager;return e.model.children.map((function(e){var o=r.getBlockViewByBlockId(e.id);return{block:o,size:n.getBlockSize(o)}}))}},{key:"insertToPage",value:function(e){var n=this,r=this.options,o=r.calculatorManager,i=r.isNestable,c=e.block,a=e.slides,l=function(){return a.isLastSlideModifiable?a.popSlide():new ht};return function e(r){var c=n.getBlockSize(r),s=c.height,u=c.width,d=n.getChildBlockInfo(r),f=function(e){var n=o.getBlockCalculator(e.type);return n.type===ct.forcePagination||n.options.forcePagination}(r);if(f&&a.appendSlide(new ht),i(r.model)){var h=l(),p=n.slideContentSize.height-h.contentHeight-s>1e-10,g=n.slideContentSize.height-s>1e-10;if(!p&&g&&(a.appendSlide(h),h=new ht),p||g){var b=Object(ot.W)(r),v=b.zoom,m=b.inherit,y=1/v;return h.appendBlockInfo({block:r,height:s,originHeight:s,style:{marginTop:h.isEmpty?n.defaultVerticalMargin*y:0,marginLeft:m?0:n.defaultHorizontalMargin*y,marginRight:m?0:n.defaultHorizontalMargin*y}}),void a.appendSlide(h)}a.appendSlide(h),h.isEmpty||a.appendSlide(new ht);var k=d.reduce((function(e,n){return e+n.size.height}),0),x=s-k,O=new It({getBlockSize:function(){return{width:u,height:x}}});a=O.insertToPage({slides:a,block:r}),h=l();for(var S=n.slideContentSize.height-h.contentHeight,B=[],E=0;E<d.length&&!(S-d[E].size.height<0);E++)B.push(d[E]),S-=d[E].size.height;if(0===B.length){var w=d[0];h.appendBlockInfo({block:w.block,height:0,originHeight:w.size.height,style:{height:0,overflow:"hidden"}})}else B.forEach((function(e){var r=Object(ot.W)(e.block),o=r.zoom,i=r.inherit,c=1/o;h.appendBlockInfo({block:e.block,height:e.size.height,originHeight:e.size.height,style:{marginLeft:i?0:n.defaultHorizontalMargin*c,marginRight:i?0:n.defaultHorizontalMargin*c}})}));a.appendSlide(h),d.slice(B.length).forEach((function(n){var r=n.block;e(r)}))}else{var _=o.getBlockCalculator(r.type);a=_.insertToPage({slides:a,block:r})}}(c),a}}]),r}(dt);function _t(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=ee()(e);if(n){var i=ee()(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return X()(this,r)}}var It=function(e){J()(r,e);var n=_t(r);function r(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return W()(this,r),(e=n.call(this)).options=o,e.type=ct.textual,e}return Y()(r,[{key:"insertToPage",value:function(e){var n=e.slides,r=e.block,o=e.needPagination,i=void 0!==o&&o,c=r.hostElement;if(c){var a=this.getBlockSize(r).height,l=Object(ot.W)(r),s=l.zoom,u=l.inherit,d=1/s,f=!i&&n.isLastSlideModifiable?n.popSlide():new ht;!this.options.forcePagination&&this.slideContentSize.height-f.contentHeight>=a||(n.appendSlide(f),f=new ht);for(var h=0,p=b.S.isIPad&&b.S.isSafari?1:d,g=parseFloat(window.getComputedStyle(c).lineHeight)/p,v=parseFloat(window.getComputedStyle(c).fontSize)/p,m=Math.floor((g+v)/2)||1e-10,y=function(e,n){return Math.abs(n)<1e-10&&e>1e-10||e+n>=m};y(a,h);){var k=Math.abs(h)>1e-10,x=f.isEmpty&&!k;k&&(h+=Math.floor(-h%g));var O=this.slideSize.height-f.contentHeight-(x?this.defaultVerticalMargin:0),S=Math.min(a+h,O);f.appendBlockInfo({block:r,height:S,originHeight:S,style:{marginTop:x?this.defaultVerticalMargin*d:h*d,marginLeft:u?0:this.defaultHorizontalMargin*d,marginRight:u?0:this.defaultHorizontalMargin*d,marginBottom:k?(this.slideSize.height-S)*d:0}}),h-=S,(k||x&&y(a,h))&&f.unmodifiable(),n.appendSlide(f),f=new ht}return n}return n}}]),r}(dt);function Mt(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=ee()(e);if(n){var i=ee()(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return X()(this,r)}}var jt,Pt=function(e){J()(r,e);var n=Mt(r);function r(){var e;W()(this,r);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return(e=n.call.apply(n,[this].concat(i))).type=ct.hidden,e}return Y()(r,[{key:"insertToPage",value:function(e){var n=e.slides,r=e.block,o=e.needPagination,i=!(void 0!==o&&o)&&n.isLastSlideModifiable?n.popSlide():new ht;return null===i||void 0===i||i.appendBlockInfo({block:r,height:0,originHeight:this.getBlockSize(r).height,style:{height:0}}),n.appendSlide(i),n}}]),r}(dt),Tt=function(){function e(){W()(this,e),this.blockCalculatorMap=new Map}return Y()(e,[{key:"registerBlockCalculator",value:function(e,n,r){this.blockCalculatorMap.has(e)&&this.unregisterBlockCalculator(e);var o=new n(r);this.blockCalculatorMap.set(e,o)}},{key:"unregisterBlockCalculator",value:function(e){this.blockCalculatorMap.delete(e)}},{key:"getBlockCalculator",value:function(e){return this.blockCalculatorMap.has(e)||this.registerBlockCalculator(e,kt,{}),this.blockCalculatorMap.get(e)}},{key:"destroy",value:function(){this.blockCalculatorMap.clear()}}]),e}();function Ct(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,o)}return r}function At(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Ct(Object(r),!0).forEach((function(n){me()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ct(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var Rt=(jt={},me()(jt,xe.B.HEADING1,[Bt,{}]),me()(jt,xe.B.HEADING2,[It,{forcePagination:!0}]),me()(jt,xe.B.HEADING3,[It,{forcePagination:!0}]),me()(jt,xe.B.HEADING4,[It,{forcePagination:!0}]),me()(jt,xe.B.HEADING5,[It,{forcePagination:!0}]),me()(jt,xe.B.HEADING6,[It,{forcePagination:!0}]),me()(jt,xe.B.HEADING7,[It,{forcePagination:!0}]),me()(jt,xe.B.HEADING8,[It,{forcePagination:!0}]),me()(jt,xe.B.HEADING9,[It,{forcePagination:!0}]),me()(jt,xe.B.HEADINGN,[It,{forcePagination:!0}]),me()(jt,xe.B.QUOTE_CONTAINER,[It,{}]),me()(jt,xe.B.LINK,[It,{}]),me()(jt,xe.B.IMAGE,[Bt,{getBlockSize:function(e){var n=e.hostElement,r=n.querySelector("img"),o=n.querySelector(".image-block-error")||r||n,i=o.offsetHeight||0,c=o.offsetWidth||0,a=Object(ot.W)(e).zoom,l=r?a:1;return{width:c*l,height:i*l}},fitBlock:function(e,n){var r=Object(ot.R)(),o=r.height;if(n.height<=o)return n;var i=r.height/n.height*n.width,c=function(){var n=H()(z.a.mark((function n(){var r,c,a,l;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.hostElement,c=r.querySelector(".image-block-width-wrapper"),l={width:(a=c||r).style.width,height:a.style.height,overflow:a.style.overflow},a.style.width="".concat(i/Object(C.K)(),"px"),a.style.height="".concat(o/Object(C.K)(),"px"),a.style.overflow="hidden",n.abrupt("return",H()(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object.entries(l).forEach((function(e){var n=w()(e,2),r=n[0],o=n[1];a.style[r]=o}));case 1:case"end":return e.stop()}}),e)}))));case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return{width:i,height:o,enterSlide:c}}}]),me()(jt,xe.B.BULLET,[It,{}]),me()(jt,xe.B.ORDERED,[It,{}]),me()(jt,xe.B.DIVIDER,[kt,{splitable:!1}]),me()(jt,xe.B.CODE,[Bt,{}]),me()(jt,xe.B.TEXT,[It,{}]),me()(jt,xe.B.GRID,[Bt,{}]),me()(jt,xe.B.CALLOUT,[Bt,{}]),me()(jt,xe.B.TODO,[It,{}]),me()(jt,xe.B.TASK,[It,{}]),me()(jt,xe.B.CHAT_CARD,[Bt,{}]),me()(jt,xe.B.DIAGRAM,[Bt,{}]),me()(jt,xe.B.TABLE,[Bt,{}]),me()(jt,xe.B.IFRAME,[Bt,{}]),me()(jt,xe.B.SHEET,[Bt,{}]),me()(jt,xe.B.BITABLE,[Bt,{fitBlock:function(e,n){var r=n.width,o=n.height,i=Object(ot.R)();if(n.height<=i.height)return n;var c=function(){var n=H()(z.a.mark((function n(){return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.bridge.setSize(i.width,i.height),n.next=3,Promise.resolve();case 3:return n.abrupt("return",H()(z.a.mark((function n(){return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.bridge.setSize(r,o),n.next=3,Promise.resolve();case 3:case"end":return n.stop()}}),n)}))));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return At(At({},i),{},{enterSlide:c})}}]),me()(jt,xe.B.FILE,[Bt,{}]),me()(jt,xe.B.UML,[Bt,{}]),me()(jt,xe.B.FLOWCHART,[Bt,{}]),me()(jt,xe.B.VIEW,[Bt,{}]),me()(jt,xe.B.ISV,[Bt,{}]),me()(jt,xe.B.MINDMAP,[Bt,{}]),me()(jt,xe.B.BOOKMARK,[Bt,{}]),me()(jt,xe.B.OKR,[Bt,{}]),me()(jt,xe.B.OBJECTIVE,[Bt,{}]),me()(jt,xe.B.POLL,[Bt,{}]),me()(jt,xe.B.EQUATION,[Bt,{}]),me()(jt,xe.B.PAGE,[Bt,{vertical:mt.MIDDLE,horizontal:yt.CENTER,getBlockSize:function(e){var n=e.hostElement.querySelector(".page-block-header");return{width:(null===n||void 0===n?void 0:n.offsetWidth)*Object(C.K)()||0,height:(null===n||void 0===n?void 0:n.offsetHeight)*Object(C.K)()||0}}}]),me()(jt,xe.B.WIKI_CATALOG,[Bt,{}]),me()(jt,xe.B.WIKI_RECENT,[Bt,{}]),jt);function Dt(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,o)}return r}function Nt(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Dt(Object(r),!0).forEach((function(n){me()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dt(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function zt(e,n){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,n){if(!e)return;if("string"===typeof e)return Lt(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lt(e,n)}(e))||n&&e&&"number"===typeof e.length){r&&(e=r);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,c=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw c}}}}function Lt(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,o=new Array(n);r<n;r++)o[r]=e[r];return o}function Ht(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=ee()(e);if(n){var i=ee()(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return X()(this,r)}}var Ft,Vt,Gt,Wt,Ut,Yt,Kt,Zt,qt="presentation-mode-last-visit-record-id",Jt="presentation-mode-last-exit-time",Qt=function(e){J()(r,e);var n=Ht(r);function r(e,o,i){var c;W()(this,r),(c=n.call(this)).blockManager=e,c.context=o,c.calculatorManager=new Tt,c.currentPageNum=0,c.slides=new pt,c.heightChangeObserver=null,c.currentFirstBlockTop=null,c.lastVisitedRecordId=c.getValueFromStorage(qt,!1),c.lastExitTime=c.getValueFromStorage(Jt,!0),c.shouldRenderBlock=function(e){var n,r=c.blockManager.getBlockViewByBlockId(e.id);return!((null===(n=e.parent)||void 0===n?void 0:n.isRoot)&&Object(ut.k)(r)&&Object(st.LC)(r))},c.updateSplitPages=H()(z.a.mark((function e(){var n,r,o,i,a,l,s,u,d,f,h,p,g,b,v;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c.blockManager.rootBlockId,r=c.blockManager.getBlockModelByBlockId(n),o=new pt,i=c.calculatorManager.getBlockCalculator(r.type),a=c.blockManager.getBlockViewByBlockId(r.id),o=i.insertToPage({slides:o,block:a}),l=ct.default,s=zt(r.children),e.prev=8,s.s();case 10:if((u=s.n()).done){e.next=32;break}if(d=u.value,c.blockManager.hasBlockViewByBlockId(d.id)){e.next=14;break}return e.abrupt("continue",30);case 14:if(f=c.blockManager.getBlockViewByBlockId(d.id),c.shouldRenderBlock(d)){e.next=20;break}return h=new Pt,o=h.insertToPage({slides:o,block:f,needPagination:!1}),l=ct.hidden,e.abrupt("continue",30);case 20:if(p=function(e){return Object(xe.q)().includes(e.type)&&e.children.length>0},!p(d)){e.next=26;break}return g=new wt({calculatorManager:c.calculatorManager,isNestable:p}),o=g.insertToPage({slides:o,block:f}),l=ct.nested,e.abrupt("continue",30);case 26:b=c.calculatorManager.getBlockCalculator(d.type),v=l===ct.nested,o=b.insertToPage({slides:o,block:f,needPagination:v}),l=b.type;case 30:e.next=10;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(8),s.e(e.t0);case 37:return e.prev=37,s.f(),e.finish(37);case 40:return o.forEach((function(e){return e.alignContentToCenter()})),e.next=43,Promise.resolve();case 43:return e.next=45,c.slides.destroy();case 45:return c.slides=o,e.abrupt("return",o);case 47:case"end":return e.stop()}}),e,null,[[8,34,37,40]])}))),c.forceUpdateSlides=Object(lt.debounce)(H()(z.a.mark((function e(){var n,r,o,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.getLastVisitedBlock(),c.blockManager.dispatch(x.U),e.next=4,c.updateSplitPages();case 4:if(!n){e.next=8;break}return r=c.blockManager.getBlockIdsByRecordId(n),o=w()(r,1),i=o[0],c.gotoSlideByBlockId(i,c.currentPageNum),e.abrupt("return");case 8:c.gotoSlide(c.currentPageNum,!0);case 9:case"end":return e.stop()}}),e)}))),100),c.gotoSlide=function(){var e=H()(z.a.mark((function e(n){var r,o,i,a=arguments;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]&&a[1],o=Math.max(0,Math.min(n,c.totalSlideNum-1)),c.slides.hasScrollElement()||c.slides.setScrollElement(c.scrollElement),i=c.slides.getSlide(o),c.blockManager.dispatch(x.y,[i]),i.blockInfos.forEach((function(e){var n=c.blockManager.getBlockModelByBlockId(e.block.id);n&&n.traverseInDepthFirstPreOrder((function(e){if(e.type===xe.B.IMAGE){var n=c.blockManager.getBlockViewByBlockId(e.id);null===n||void 0===n||n.showOriginalGif()}}))})),c.scrollContainer.scrollTo({top:0}),e.next=9,c.slides.gotoSlide(o,r);case 9:c.currentFirstBlockTop=c.getFirstBlockTop(o),c.currentPageNum=o;case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),c.isClickOnEmptyArea=function(e){return!["a",".scrollable-scrollbar .slider",".docx-chat_card-block-container",".docx-file-block",".docx-poll-block .presentation-mode-container",".docx-bookmark-block-container",".image-block-container",".docx-diagram-block-container",".table-block",".sheet-block-container",".bitable-block-container",".callout-block",".docx-code-block-container",".mindnote-block-container",".isv-block-container",".okr-block",".iframe-container",".docx-wiki_recent_update-block",".docx-wiki_catalog-block"].some((function(n){return!!e.closest(n)}))},c.handleKeyDown=function(e){var n="ArrowUp"===e.code||"ArrowLeft"===e.code,r="ArrowDown"===e.code||"ArrowRight"===e.code||"Space"===e.code;(n||r)&&(e.stopPropagation(),e.preventDefault(),n?c.gotoSlide(c.currentPageNum-1):r&&c.gotoSlide(c.currentPageNum+1))},c.handleClick=function(e){var n=e.target;if(c.isClickOnEmptyArea(n)){var r=c.context.selectionAPI.getSelection(),o=r.length>0&&c.context.selectionAPI.isBlockSelection(),i=r.some((function(e){return e.selection&&e.selection.end-e.selection.start>0}));if(o||i)c.context.selectionAPI.removeAllSelection();else{var a=e.pageX,l=e.pageY;n.addEventListener("mouseup",(function e(r){n.removeEventListener("mouseup",e);var o=r.pageX,i=r.pageY;o===a&&i===l&&c.gotoSlide(c.currentPageNum+1)}))}}},c.handleSelectStart=function(e){var n=e.target;if(c.isClickOnEmptyArea(n))return e.preventDefault(),e.stopPropagation(),!1},c.handleContainerScroll=function(){c.scrollContainer.scrollTop>1e-10&&c.scrollContainer.scrollTo({top:0})},c.handleHeightChange=function(){var e=c.getFirstBlockTop();if(!Object(lt.isNil)(c.currentFirstBlockTop)&&e>c.currentFirstBlockTop){var n=parseFloat(c.scrollElement.style.top);c.scrollElement.style.top="".concat(n+c.currentFirstBlockTop-e,"px")}},c.iframeAutoFocusInterval=void 0,c.checkIframeAutoFocus=function(){c.clearIframeAutoFocusCheck(),c.iframeAutoFocusInterval=setInterval((function(){var e,n,r;"IFRAME"===(null===(e=document.activeElement)||void 0===e||null===(n=e.tagName)||void 0===n?void 0:n.toUpperCase())&&(null===(r=document.activeElement)||void 0===r||r.blur())}),300)},c.clearIframeAutoFocusCheck=function(){c.iframeAutoFocusInterval&&clearInterval(c.iframeAutoFocusInterval)};var a,l=Nt(Nt({},Rt),(null===i||void 0===i?void 0:i.blockCalculators)||{}),s=zt(Object.entries(l));try{for(s.s();!(a=s.n()).done;){var u=w()(a.value,2),d=u[0],f=w()(u[1],2),h=f[0],p=f[1];c.calculatorManager.registerBlockCalculator(d,h,p)}}catch(g){s.e(g)}finally{s.f()}return c}return Y()(r,[{key:"getFirstBlockTop",value:function(e){var n,r,o=Object(lt.isNil)(e)?this.currentPageNum:e,i=null===(n=this.slides.getSlide(o))||void 0===n||null===(r=n.blockInfos[0])||void 0===r?void 0:r.block,c=Object(C.k)(i.hostElement);return i.hostElement.getBoundingClientRect().top*c}},{key:"gotoSlideByBlockId",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e&&this.slides.findSlideIndexByBlockId(e),o="number"===typeof r&&r>-1?r:n;this.gotoSlide(o)}},{key:"getStorageKey",value:function(e){return"".concat(e,":").concat(this.blockManager.rootRecordId)}},{key:"getValueFromStorage",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getStorageKey(e),o=sessionStorage.getItem(r);if(!o)return null;if(!n)return o;var i=parseInt(o,10);return Number.isNaN(i)||!Number.isFinite(i)||i<0?null:i}},{key:"setValueToStorage",value:function(e,n){var r=this.getStorageKey(e);n&&sessionStorage.setItem(r,String(n))}},{key:"handleImageBlockLoad",value:function(){var e=this;this.blockManager.allBlockViews.forEach((function(n){n.type===xe.B.IMAGE&&n.loadImage().then((function(){e.forceUpdateSlides()})).catch((function(){}))}))}},{key:"onEnter",value:function(){var e=H()(z.a.mark((function e(){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=this.blockManager.recordManager.collabModule)||void 0===n||null===(r=n.sync)||void 0===r?void 0:r.switchCollabMode(!1);case 2:return this.context.fold.forceShowAllFoldedBlock(),e.next=5,this.blockManager.layoutManager.enterForceLayoutForAll();case 5:return this.handleImageBlockLoad(),e.next=8,new Promise((function(e){return requestAnimationFrame(e)}));case 8:this.forceUpdateSlides(),this.forceUpdateSlides.flush(),this.heightChangeObserver=new ResizeObserver(this.handleHeightChange),this.heightChangeObserver.observe(this.scrollElement),document.addEventListener("selectstart",this.handleSelectStart),document.addEventListener("keydown",this.handleKeyDown,!0),window.addEventListener("resize",this.forceUpdateSlides),this.scrollElement.addEventListener("mousedown",this.handleClick),this.scrollContainer.addEventListener("scroll",this.handleContainerScroll),De.S.on(De.p.PRESENTATION.FORCE_UPDATE_PAGINATION,this.forceUpdateSlides),this.checkIframeAutoFocus();case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExit",value:function(){var e=H()(z.a.mark((function e(){var n,r,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.clearIframeAutoFocusCheck(),document.removeEventListener("selectstart",this.handleSelectStart),document.removeEventListener("keydown",this.handleKeyDown,!0),window.removeEventListener("resize",this.forceUpdateSlides),this.scrollElement.removeEventListener("mousedown",this.handleClick),this.scrollContainer.removeEventListener("scroll",this.handleContainerScroll),De.S.off(De.p.PRESENTATION.FORCE_UPDATE_PAGINATION,this.forceUpdateSlides),null===(n=this.heightChangeObserver)||void 0===n||n.disconnect(),this.heightChangeObserver=null,this.lastVisitedRecordId=this.getLastVisitedBlock(),this.lastExitTime=Date.now(),this.setValueToStorage(qt,this.lastVisitedRecordId),this.setValueToStorage(Jt,this.lastExitTime),e.next=15,this.slides.destroy();case 15:return this.currentPageNum=0,this.forceUpdateSlides.cancel(),e.next=19,this.blockManager.layoutManager.quitForceLayoutForAll();case 19:return e.next=21,null===(r=this.blockManager.recordManager.collabModule)||void 0===r||null===(o=r.sync)||void 0===o?void 0:o.switchCollabMode(!0);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getLastVisitedBlock",value:function(){var e,n,r;return null===(e=this.slides.getSlide(this.currentPageNum))||void 0===e||null===(n=e.blockInfos[0])||void 0===n||null===(r=n.block)||void 0===r?void 0:r.record.id}},{key:"shouldShowGoBack",value:function(){return!!this.lastVisitedRecordId&&(!this.lastExitTime||Date.now()-this.lastExitTime<18e5)}},{key:"goBack",value:function(){var e=this.lastVisitedRecordId;if(e){var n=this.blockManager.getBlockIdsByRecordId(e),r=w()(n,1)[0];r&&this.gotoSlideByBlockId(r)}}},{key:"destroy",value:function(){this.calculatorManager.destroy(),this.forceUpdateSlides.cancel()}},{key:"totalSlideNum",get:function(){return this.slides.length}},{key:"slideSize",get:function(){return{width:window.innerWidth,height:window.innerHeight}}},{key:"scrollContainer",get:function(){return this.blockManager.getBlockViewByBlockId(this.blockManager.rootBlockId).hostElement.closest(".".concat(x.hg))}},{key:"scrollElement",get:function(){return this.blockManager.getBlockViewByBlockId(this.blockManager.rootBlockId).hostElement.closest(".editor")}}]),r}(nt),Xt=Object(ye.s)(et.W)((Vt=function(){function e(){W()(this,e),this.modeInstanceMap=new Map,V()(this,"blockManager",Gt,this),V()(this,"context",Wt,this),this.startTargetFilter=function(e){return!b.S.isIPad||!e.closest(".".concat(x.r))}}return Y()(e,[{key:"init",value:function(){this.modeInstanceMap.set(x.h.NONE,new rt),this.modeInstanceMap.set(x.h.DOCUMENT,new at(this.blockManager)),this.modeInstanceMap.set(x.h.PAGINATION,new Qt(this.blockManager,this.context)),this.context.selectionAPI.register(Pe.q.startTargetFilter,this.startTargetFilter)}},{key:"destroy",value:function(){this.modeInstanceMap.forEach((function(e){e.destroy()})),this.modeInstanceMap.clear(),this.context.selectionAPI.unregister(Pe.q.startTargetFilter,this.startTargetFilter)}},{key:"getModeInstance",value:function(e){return this.modeInstanceMap.get(e)}}]),e}(),Gt=ne()(Vt.prototype,"blockManager",[Me.a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wt=ne()(Vt.prototype,"context",[A.a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ft=Vt))||Ft;function $t(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=ee()(e);if(n){var i=ee()(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return X()(this,r)}}var en=Object(_.H)({providers:[Xt]})((Zt=function(e){J()(r,e);var n=$t(r);function r(){var e;W()(this,r);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return e=n.call.apply(n,[this].concat(i)),V()(e,"modeInstance",Kt,Z()(e)),e}return Y()(r,[{key:"init",value:function(){this.modeInstance.init()}},{key:"destroy",value:function(){this.modeInstance.destroy()}}]),r}(_.G),Yt=Zt,Kt=ne()(Yt.prototype,"modeInstance",[et.W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ut=Yt))||Ut,tn=r("dx_R53K"),nn=r("dx_W6W8"),rn=r("dx_zKF3"),on=r("dx_oECv"),cn=r("dx_o54o"),an=r("dx_bD2y"),ln=r("dx_FBn3"),sn=r("dx_W0Ov"),un=r("dx_vlKv"),dn=r("dx_ApwS"),fn=r("dx_DSuC"),hn=r("dx_D3ws"),pn=r("dx_pVRx"),gn=r("dx_MYIx"),bn=r("dx_LSbp"),vn=r("dx_SbhA"),mn=r("dx_yl1C"),yn=r("dx_sDWs"),kn=r("dx_NMyZ"),xn=r("dx_l8lr"),On=r("dx_wGyE"),Sn=r("dx_haL5"),Bn=r("dx_oxJ8"),En=r("dx_FVZU"),wn=r("dx_a7X6"),_n=r("dx_ViSK"),In=r("dx_pk3x"),Mn=r("dx_ooSz"),jn=r("dx_VWMO"),Pn=r("dx_E3Ia"),Tn=r("dx_dajS"),Cn=r("dx_AOVQ"),An=r("dx_tokD"),Rn=r("dx_V5C0"),Dn=r("dx_B1B9"),Nn=r("dx_vLvZ"),zn=r("dx_r2rw"),Ln=r("dx_Otwn"),Hn=r("dx_VjTN"),Fn=r("dx_H6o9"),Vn=r("dx_X36X"),Gn=r("dx_TKhc"),Wn=r("dx_uQZk"),Un=r("dx_dRZF"),Yn=r("dx_O7R4"),Kn=r("dx_Vau3");r("dx_ns9W");function Zn(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,o)}return r}function qn(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Zn(Object(r),!0).forEach((function(n){me()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zn(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function Jn(e,n){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,n){if(!e)return;if("string"===typeof e)return Qn(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qn(e,n)}(e))||n&&e&&"number"===typeof e.length){r&&(e=r);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,c=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw c}}}}function Qn(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,o=new Array(n);r<n;r++)o[r]=e[r];return o}function Xn(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=ee()(e);if(n){var i=ee()(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return X()(this,r)}}var $n=function(e){J()(r,e);var n=Xn(r);function r(){return W()(this,r),n.apply(this,arguments)}return Y()(r,[{key:"getIncludedSheetOrBitableBlocks",value:function(e){var n,r=new Set,o=Jn(e);try{for(o.s();!(n=o.n()).done;){n.value.traverseInDepthFirstPreOrder((function(e){e.type!==xe.B.SHEET&&e.type!==xe.B.BITABLE||r.add(e.id)}))}}catch(i){o.e(i)}finally{o.f()}return Array.from(r)}},{key:"getWrapper",value:function(e){var n=this;return function(r){var o=Object(p.useSelector)(y.E),i=o!==x.h.NONE,c=Object(u.useMemo)((function(){var e,n={},c=qn({},r),a=r.model;if(!i)return[c,n];switch(a.type){case xe.B.SHEET:case xe.B.BITABLE:var l;c.zoom=Object(C.K)(!0),(null===(l=a.parent)||void 0===l?void 0:l.isRoot)||(n.zoom=1/Object(C.K)(!0));break;case xe.B.IFRAME:c.zoom=Object(C.K)(!0);break;case xe.B.DIAGRAM:case xe.B.MINDMAP:break;default:var s;(null===(s=a.parent)||void 0===s?void 0:s.isRoot)&&(n.zoom=Object(C.K)())}if(o===x.h.PAGINATION&&(null===(e=a.parent)||void 0===e?void 0:e.isRoot)){var u=Object(ot.N)(),d=n.zoom||1;n.marginLeft=u/d,n.marginRight=u/d}return[c,n]}),[r,o,i]),a=w()(c,2),l=a[0],f=a[1],h=Object(u.useState)(),g=w()(h,2),b=g[0],v=g[1],m=Object(u.useRef)(null),k=Object(u.useRef)(!1),O=Object(u.useCallback)((function(){if(r.model.type===xe.B.PAGE&&m.current){var e=r.hostElementRef.current.querySelector(".page-block-header");Object.entries(m.current).forEach((function(n){var r=w()(n,2),o=r[0],i=r[1];e.style[o]=i})),m.current=null}b&&v(void 0)}),[b]),S=Object(u.useCallback)(function(){var e=H()(z.a.mark((function e(o){var i,c,a,l;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k.current){e.next=2;break}return e.abrupt("return");case 2:if(O(),!(i=o.blockInfos.find((function(e){return e.block.id===r.model.id})))){e.next=11;break}if(r.model.type===xe.B.PAGE?(c=r.hostElementRef.current.querySelector(".page-block-header"),a={textAlign:c.style.textAlign},c.style.textAlign="center",Object.entries(i.style).forEach((function(e){var n=w()(e,2),r=n[0],o=n[1];a[r]=c.style[r],c.style[r]="number"===typeof o?"".concat(o,"px"):o})),m.current||(m.current=a)):v(i.style),!((l=n.getIncludedSheetOrBitableBlocks([i.block.model])).length>0)){e.next=11;break}return e.next=10,Promise.resolve();case 10:l.forEach((function(e){var r,o=n.blockManager.view.getBlockViewByBlockId(e);o&&(null===(r=o.bridge)||void 0===r||r.syncVirtualScroll())}));case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[O]);Object(u.useEffect)((function(){return n.blockManager.addListener(x.y,S),function(){n.blockManager.removeListener(x.y,S)}}),[S]),Object(u.useEffect)((function(){return n.blockManager.addListener(x.U,O),function(){n.blockManager.removeListener(x.U,O)}}),[O]),Object(u.useEffect)((function(){o===x.h.PAGINATION?k.current=!0:(k.current=!1,O())}),[o,O]);var B=i?qn(qn({},f),b):{},E=s()(xe.S0,me()({},xe.Y1,!!f.zoom));return d.a.createElement("div",{className:E,style:B},d.a.createElement(e,l))}}}]),r}(Kn.A),er=r("dx_TSvr"),tr=r("dx_dYKg"),nr=r("dx_VC8Z"),rr=r("dx_WX15"),or=r("dx_T1AN"),ir=r("dx_r4mc");function cr(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,o)}return r}function ar(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?cr(Object(r),!0).forEach((function(n){me()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cr(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var lr=function(e){var n=[$n,e],r=[rr.S,e],o=[Gn.M,e],i=[Ln.S,e],c=[n,o],a=Object(tr.J)()?[[er.x,e]]:[],l=[n,i],s=[r,n,i],u=[].concat(s,[[ze.i,e]]),d=[ir.S,e],f=[].concat(s,[d]),h=[].concat(s),p=[].concat(c,[[Fn.R,ar(ar({},e),{},{displayMode:xe.J.BLOCK,autoNotifyRenderFinish:!0})]]),g=[].concat(B()(p),[[zn.S,e],[Hn.S,e]]),b=[].concat(B()(p),[[zn.S,e]]),v=[].concat(B()(p),[[zn.S,e]]),m=[].concat(B()(p),[[Un.S,e]]),y=[n].concat(B()(Object(Nn.b)(xe.B.SHEET,e,{overrideProps:[[Fn.R,{autoNotifyRenderFinish:!0}]]}))),k=[n].concat(B()(Object(Nn.b)(xe.B.BITABLE,e,{overrideProps:[[Fn.R,{autoNotifyRenderFinish:!0}]]}))),x=[n].concat(B()(Object(Nn.b)(xe.B.MINDMAP,e,{overrideProps:[[Fn.R,{autoNotifyRenderFinish:!0}]]})),[[Hn.S,e]]),O=[n,[Fn.R,ar(ar({},e),{},{displayMode:xe.J.INLINE})]],S=[n,[Yn.S,ar(ar({},e),{},{priority:-1})],[or.S,ar(ar({},e),{},{eventContainer:e.container,scrollContainer:e.boundary,ignoreClasses:["menu-trigger","overlay-mask","block-overlay","bidirection-link-list","pagination"],noResponseTarget:["column-resizer-item","column-gap"],blockFilters:[".backlink"]})],[Wn.x,e]].concat(a),E=[n,[Vn.q,e]].concat(B()(Object(Nn.b)(xe.B.TABLE,e))),w=[n],I=[n],M=[n].concat(B()(Object(Nn.b)(xe.B.FILE,e)),[[nr.S,e],[Hn.S,e]]),j=[n].concat(B()(Object(Nn.b)(xe.B.IMAGE,e))),P=[n].concat(B()(Object(Nn.b)(xe.B.CHAT_CARD,e)),[[Hn.S,e]]),T=[n,[Hn.S,e]],C=[].concat(c,[[zn.S,e],[Hn.S,e]]),A=[].concat(c,[[Hn.S,e]]);return[[_.P,S],[xe.B.TEXT,s],[xe.B.CODE,T],[xe.B.HEADING1,u],[xe.B.HEADING2,u],[xe.B.HEADING3,u],[xe.B.HEADING4,u],[xe.B.HEADING5,u],[xe.B.HEADING6,u],[xe.B.HEADING7,u],[xe.B.HEADING8,u],[xe.B.HEADING9,u],[xe.B.QUOTE,l],[xe.B.QUOTE_CONTAINER,c],[xe.B.DIVIDER,c],[xe.B.ORDERED,f],[xe.B.BULLET,h],[xe.B.TODO,s],[xe.B.CALLOUT,A],[xe.B.ISV,b],[xe.B.MINDMAP,x],[xe.B.DIAGRAM,g],[xe.B.SHEET,y],[xe.B.BITABLE,k],[xe.B.POLL,v],[xe.B.OKR,c],[xe.B.TASK,c],[xe.B.FILE,M],[xe.B.IMAGE,j],[xe.B.VIEW,c],[xe.B.IFRAME,m],[xe.B.CHAT_CARD,P],[xe.B.BOOKMARK,C],[xe.B.TABLE,E],[xe.B.CELL,w],[xe.B.GRID,c],[xe.B.GRID_COLUMN,I],[xe.B.PENDING,O],[xe.B.WIKI_CATALOG,p],[xe.B.WIKI_RECENT,p]]};function sr(){return Object(In.k)().concat(Object(In.B)([[wn.W]]))}function ur(){return[].concat(B()(sr()),B()(ft.browser.isFeishuRooms?Object(In.B)([[_n.v]]):ft.browser.isOpendoc?[]:Object(In.B)([[_n.v]])))}function dr(){return sr()}function fr(){return Object(In.f)().concat(Object(In.B)([[_n.v]]))}r("dx_WDi4");var hr=d.a.forwardRef((function(e,n){var r,o=e.scroller,i=e.token,c=e.onMount,a=e.onUnmount,l=e.renderComment,s=Object(u.useState)(null),f=w()(s,2),h=f[0],g=f[1],b=Object(u.useState)(!1),v=w()(b,2),k=v[0],O=v[1],S=Object(u.useRef)(null),E=Object(p.useSelector)(y.e),N=Object(p.useSelector)(I.selectors.share.ifhaveCommentPermission),z=Object(p.useSelector)(m.I),L=function(e){var r;n&&("function"===typeof n?n(e):n.current=e),g(e),null===c||void 0===c||c();var o=null===(r=e.editor)||void 0===r?void 0:r.api.getService(A.a);null===o||void 0===o||o.commentModule.ready((function(){O(!0)}))},H=function(){n&&("function"===typeof n?n(null):n.current=null),g(null),null===a||void 0===a||a()},F=function(e){return e.closest(".".concat(o))||e},V=null===h||void 0===h||null===(r=h.editor)||void 0===r?void 0:r.api.getService(A.a),G={position:"relative",opacity:E!==x.R.DONE?0:1},W=Object(T.F)(I.store.getState());return d.a.createElement("div",{style:G,ref:S},d.a.createElement("div",{className:"presentation-mode-editor"},d.a.createElement(P.l,{store:I.store},(function(e){return d.a.createElement(R.u,{onMount:L,onUnmount:H,createDocxEditor:function(n){var r=F(n),o={token:i,boundary:r,editable:!1,copyable:W,scroller:r,isHistory:!1,container:n,editPermission:!1,reactReduxContext:e,isPreview:!0,isPresentationMode:!0};return Object(j.U)({config:o,isPresentationMode:!0,rendererOptions:{BlockContextProvider:function(n){return Object(P.I)(e,n)},layoutConfig:{enableVirtualRender:!0,scroller:r,errorFrom:"presentation-mode",overwriteDOMApi:{getBoundingClientRect:C.V,getClientHeight:C.h,getComputedStyle:C.t,getPlaceholderStyle:C.R},getDeactiveNodeStyle:C.F}},modules:[Object(_.Y)($e,{contentRef:function(){return S.current}}),Object(_.Y)(be,{}),Object(_.Y)(en,{})].concat(B()([Object(_.Y)(yn.i,{getTextEditorOptions:fr}),Object(_.Y)(on.D,{getTextEditorOptions:dr}),Object(_.Y)(En.T,{getTextEditorOptions:ur}),Object(_.Y)(dn.R,{getTextEditorOptions:ur}),Object(_.Y)(xn.y,{getTextEditorOptions:ur}),Object(_.Y)(gn.o,{getTextEditorOptions:ur}),Object(_.Y)(vn.D,{getTextEditorOptions:ur}),Object(_.Y)(bn.a,{getTextEditorOptions:ur}),Object(_.Y)(Mn.Y,{getTextEditorOptions:ur}),Object(_.Y)(ln.S),Object(_.Y)(nn.G),Object(_.Y)(pn.S),Object(_.Y)(we.S),Object(_.Y)(an.S),Object(_.Y)(On.S),Object(_.Y)(ke.S),Object(_.Y)(kn.Q),Object(_.Y)(mn.S,{getTextEditorOptions:sr}),Object(_.Y)(Bn.Y),Object(_.Y)(Pn.Z),Object(_.Y)(Tn.l),Object(_.Y)(sn.S),Object(_.Y)(jn.S),Object(_.Y)(hn.S),Object(_.Y)(fn.S),Object(_.Y)(rn.S),Object(_.Y)(tn.S),Object(_.Y)(un.w),Object(_.Y)(Sn.A),Object(_.Y)(cn.T),Object(_.Y)(Rn.u,{loadableBlockTypes:[xe.B.SHEET,xe.B.BITABLE,xe.B.MINDMAP,xe.B.FILE,xe.B.CODE]}),Object(_.Y)(Cn.E),Object(_.Y)(Dn.S),Object(_.Y)(An.B,{getExtensions:lr})]))})}})}))),d.a.createElement("div",{style:{display:l?void 0:"none"}},V&&d.a.createElement(M.BrowserRouter,null,d.a.createElement(d.a.Fragment,null,k&&d.a.createElement(D.U,{commentModule:V.commentModule,selectionApi:V.selectionAPI,blockManager:V.blockManager,fold:V.fold,defaultShow:z,inPresentationMode:!0,classMap:{root:".".concat(o),editor:".".concat(o," .editor")}}),d.a.createElement("div",{className:"presentation-mode-global-comment"},d.a.createElement(D.l,{inPresentationMode:!0}),k&&d.a.createElement(D.O,{noteToken:i,isCommentable:N,commentModule:V.commentModule,canCopy:!1,selectionApi:V.selectionAPI}))))))})),pr=r("dx_O3mk"),gr=r("dx_Dsrj"),br=(r("dx_GUex"),h()({loader:function(){return Promise.all([r.e("dx_kgU"),r.e("dx_WAh"),r.e("dx_UTc"),r.e("dx_pvz"),r.e("dx_W9i")]).then(r.bind(null,"dx_v7vA"))},loading:function(){return null}})),vr=d.a.forwardRef((function(e,n){var r=e.token,o=e.onExitBtnClick,i=e.onModeBtnClick,c=e.onMount,a=e.onUnmount,l=e.onGoBackBtnClick,f=e.shouldShowGoBack,h=Object(p.useSelector)(y.E),S=Object(p.useSelector)(m.I),B=Object(u.useRef)(null),E=Object(p.useDispatch)(),w=Object(u.useCallback)((function(){var e=!S;E(Object(v.Y)(e)),Object(k.N)("ccm_doc_display_mode_click",{target:"none",comment_type:e?"open_comment":"close_comment"})}),[S,E]),_=h===x.h.DOCUMENT,I=s()(x.r,"presentation-mode",{document:h===x.h.DOCUMENT,pagination:h===x.h.PAGINATION,comment:_&&S,ipad:b.S.isIPad,safari:b.S.isSafari});return d.a.createElement("div",{className:I,ref:B},d.a.createElement(gr.g,{onExitBtnClick:o},h!==x.h.DOCUMENT?null:d.a.createElement(O.p,{getControlBarContainer:function(){return B.current},onCommentBtnClick:w,onModeBtnClick:i,isCommentOpen:S}),h!==x.h.PAGINATION?null:d.a.createElement(O.T,{getControlBarContainer:function(){return B.current},onModeBtnClick:i})),d.a.createElement("div",{className:x.hg},d.a.createElement("div",{id:"presentation-mode-docx-popup-container"}),d.a.createElement(br,null),d.a.createElement("div",{style:{display:h===x.h.DOCUMENT?void 0:"none"}},d.a.createElement(g.S,null)),d.a.createElement(hr,{ref:n,token:r,onMount:c,onUnmount:a,scroller:x.hg,renderComment:_})),d.a.createElement(pr.G,{shouldShowGoBack:f,onGoBackBtnClick:l}))}))},dx_Dsrj:function(e,n,r){"use strict";(function(t){r.d(n,"g",(function(){return u}));var e=r("dx_J4zp"),o=r.n(e),i=r("dx_y4yf"),c=r("dx_TSYQ"),a=r.n(c),l=r("dx_cDcd"),s=r.n(l);r("dx_ZrB4");function u(e){var n=e.onExitBtnClick,r=e.children,c=Object(l.useState)(!0),u=o()(c,2),d=u[0],f=u[1],h=a()("presentation-mode-topbar",{show:d}),p=Object(l.useRef)(0),g=Object(l.useRef)(0),b=function(){g.current&&(window.clearTimeout(g.current),g.current=0)};return Object(l.useEffect)((function(){return p.current=window.setTimeout((function(){p.current=0,f(!1)}),1e4),function(){p.current&&(window.clearTimeout(p.current),p.current=0),b()}}),[]),s.a.createElement("div",{className:h,onMouseEnter:function(){b(),f(!0)},onMouseLeave:function(){b(),p.current||(g.current=window.setTimeout((function(){g.current=0,f(!1)}),3e3))}},s.a.createElement("div",{className:"presentation-mode-topbar__exit",onClick:n},s.a.createElement(i.S,{className:"presentation-mode-topbar__exit-btn"}),s.a.createElement("span",null,t("common.back"))),s.a.createElement("div",{className:"presentation-mode-topbar__controls"},r))}}).call(this,r("dx_E9Eu"))},dx_GUex:function(e,n,r){},dx_J2Jy:function(e,n,r){"use strict";var o=r("dx_pVnL"),i=r.n(o),c=r("dx_cDcd"),a=r("dx_A2Rh");function l(e){return c.createElement("svg",i()({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),c.createElement("path",{d:"M4 1a1 1 0 0 1 1 1v3a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 1 1 2 0v3a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V2a1 1 0 0 1 1-1Zm0 22a1 1 0 0 0 1-1v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 1 0 2 0v-3a3 3 0 0 0-3-3H6a3 3 0 0 0-3 3v3a1 1 0 0 0 1 1ZM3 11a1 1 0 1 0 0 2h1a1 1 0 1 0 0-2H3Zm3.5 1a1 1 0 0 1 1-1h1a1 1 0 1 1 0 2h-1a1 1 0 0 1-1-1Zm9-1a1 1 0 1 0 0 2h1a1 1 0 1 0 0-2h-1Zm3.5 1a1 1 0 0 1 1-1h1a1 1 0 1 1 0 2h-1a1 1 0 0 1-1-1Zm-7.5-1a1 1 0 1 0 0 2h1a1 1 0 1 0 0-2h-1Z",fill:"currentColor"}))}var s=c.forwardRef((function(e,n){return c.createElement(a.S,i()({icon:l},e,{ref:n,svgProps:{"data-icon":"SlidesModeOutlined"}}))}));n.S=s},dx_JTid:function(e,n,r){},dx_O3mk:function(e,n,r){"use strict";(function(t){r.d(n,"G",(function(){return h}));var e=r("dx_J4zp"),o=r.n(e),i=r("dx_TSYQ"),c=r.n(i),a=r("dx_cDcd"),l=r.n(a),s=r("dx_h74D"),u=r("dx_UEMW"),d=r("dx_z8zm"),f=r("dx_hIkB");r("dx_JTid");function h(e){var n=e.onGoBackBtnClick,r=e.shouldShowGoBack,i=Object(a.useState)(!0),h=o()(i,2),p=h[0],g=h[1],b=Object(a.useRef)(0),v=Object(s.useSelector)(d.E),m=Object(s.useSelector)(d.e),y=function(e){switch(e){case f.h.DOCUMENT:return t("fscreen.goBackToTop");case f.h.PAGINATION:return t("fscreen.goBack");default:return""}}(v),k=c()("presentation-mode-go-back__icon",{"direction-up":v===f.h.DOCUMENT});Object(a.useEffect)((function(){if(v!==f.h.NONE&&m===f.R.DONE){var e=!r();g(e)}}),[v,m,r]),Object(a.useEffect)((function(){var e=function(){b.current&&(window.clearTimeout(b.current),b.current=0)};return p?e():(e(),b.current=window.setTimeout((function(){b.current=0,g(!0)}),1e4)),function(){e()}}),[p]);var x=Object(a.useCallback)((function(){g(!0),n()}),[n]);return p?null:l.a.createElement("div",{className:"presentation-mode-go-back",onClick:x},l.a.createElement(u.S,{className:k}),y)}}).call(this,r("dx_E9Eu"))},dx_Sw4V:function(e,n,r){},dx_UEMW:function(e,n,r){"use strict";var o=r("dx_cDcd"),i=r.n(o);function c(){return c=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},c.apply(this,arguments)}var a=i.a.createElement("path",{d:"M10.324 6.097V8h2.838a.5.5 0 01.363.844L8.734 13.9a.5.5 0 01-.723.003L3.14 8.847A.5.5 0 013.5 8h2.824V6.097h4zm0-2.048h-4V1.5a.5.5 0 01.5-.5h3a.5.5 0 01.5.5v2.549z",fill:"#FFF",fillRule:"evenodd"});n.S=function(e){return i.a.createElement("svg",c({width:16,height:16,viewBox:"0 0 16 16"},e),a)}},dx_WDi4:function(e,n,r){},dx_Z68Z:function(e,n,r){},dx_ZrB4:function(e,n,r){},dx_g4gw:function(e,n,r){"use strict";r.d(n,"S",(function(){return k}));var o=r("dx_lwsE"),i=r.n(o),c=r("dx_W8MJ"),a=r.n(c),l=r("dx_W7W2"),s=r.n(l),u=r("dx_a1gu"),d=r.n(u),f=r("dx_Nsbk"),h=r.n(f),p=r("dx_PcQO"),g=r("dx_TSYQ"),b=r.n(g),v=r("dx_cDcd"),m=r.n(v);r("dx_Z68Z");function y(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=h()(e);if(n){var i=h()(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return d()(this,r)}}var k=function(e){s()(r,e);var n=y(r);function r(){return i()(this,r),n.apply(this,arguments)}return a()(r,[{key:"render",value:function(){var e=b()(".presentation-mode-controls__switch",this.props.className);return m.a.createElement(p.Tooltip,{title:this.props.description,placement:"bottom",adjustOverflow:!1,getPopupContainer:this.props.getTooltipContainer},m.a.createElement("button",{className:e,type:"button",onClick:this.props.onClick},this.props.icon))}}]),r}(v.PureComponent)},dx_hyAL:function(e,n,r){"use strict";(function(t){r.d(n,"p",(function(){return f})),r.d(n,"T",(function(){return h}));var e=r("dx_n2nw"),o=r("dx_J2Jy"),i=r("dx_yDbK"),c=r("dx_TSYQ"),a=r.n(c),l=r("dx_cDcd"),s=r.n(l),u=r("dx_UHze"),d=r("dx_g4gw");r("dx_Sw4V");function f(n){var r=n.getControlBarContainer,i=n.onCommentBtnClick,c=n.onModeBtnClick,l=n.isCommentOpen,f=Object(u.E)(),h=t(l?"comment.hide_comment":"comment.show_comment"),p=s.a.createElement("div",{className:"icon-btn"},s.a.createElement(e.S,null)),g=s.a.createElement("div",{className:"icon-btn"},s.a.createElement(o.S,null)),b=t("fscreen.paged_mode");return s.a.createElement("div",{className:"presentation-mode-controls"},!f&&s.a.createElement(d.S,{className:a()("presentation-mode-controls__comment-switch",{active:l}),icon:p,description:h,onClick:i,getTooltipContainer:r}),s.a.createElement(d.S,{className:"presentation-mode-controls__mode-switch",icon:g,description:b,onClick:c,getTooltipContainer:r}))}function h(e){var n=e.getControlBarContainer,r=e.onModeBtnClick,o=s.a.createElement("div",{className:"icon-btn"},s.a.createElement(i.S,null)),c=t("fscreen.non_paged_mode");return s.a.createElement("div",{className:"presentation-mode-controls"},s.a.createElement(d.S,{className:"presentation-mode-controls__mode-switch",icon:o,description:c,onClick:r,getTooltipContainer:n}))}}).call(this,r("dx_E9Eu"))},dx_ns9W:function(e,n,r){},dx_y4yf:function(e,n,r){"use strict";var o=r("dx_pVnL"),i=r.n(o),c=r("dx_cDcd"),a=r("dx_A2Rh");function l(e){return c.createElement("svg",i()({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),c.createElement("path",{d:"M15.707 4.293a1 1 0 0 1 0 1.414L9.414 12l6.293 6.293a1 1 0 0 1-1.414 1.414l-7-7a1 1 0 0 1 0-1.414l7-7a1 1 0 0 1 1.414 0Z",fill:"currentColor"}))}var s=c.forwardRef((function(e,n){return c.createElement(a.S,i()({icon:l},e,{ref:n,svgProps:{"data-icon":"LeftSmallCcmOutlined"}}))}));n.S=s},dx_yDbK:function(e,n,r){"use strict";var o=r("dx_pVnL"),i=r.n(o),c=r("dx_cDcd"),a=r("dx_A2Rh");function l(e){return c.createElement("svg",i()({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),c.createElement("path",{d:"M7 8.5a1 1 0 0 1 1-1h4a1 1 0 1 1 0 2H8a1 1 0 0 1-1-1Zm0 4a1 1 0 0 1 1-1h8a1 1 0 1 1 0 2H8a1 1 0 0 1-1-1Zm0 4a1 1 0 0 1 1-1h8a1 1 0 1 1 0 2H8a1 1 0 0 1-1-1Z",fill:"currentColor"}),c.createElement("path",{d:"M3 3a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v18a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3Zm2 0v18h14V3H5Z",fill:"currentColor"}))}var s=c.forwardRef((function(e,n){return c.createElement(a.S,i()({icon:l},e,{ref:n,svgProps:{"data-icon":"DescribeOutlined"}}))}));n.S=s}}]);
//# sourceMappingURL=//slardar.bytedance.net/api_v2/browser/jserr/get_sourcemap?bid=docs_pc&js_filename=presentation_mode_view.9bf4db62.chunk.js.map